/* PWA Display Fixes */

/* Ensure proper sizing for the entire application */
html,
body {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Fix for iOS devices to ensure correct sizing when in standalone mode */
@media all and (display-mode: standalone) {
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    /* Ensures text sizes remain consistent */
    font-size: 16px; /* Force base font size to prevent auto-scaling */
  }

  body {
    /* Prevent overscroll effects - for supported browsers */
    overscroll-behavior: none;
    /* Set initial scale to prevent zooming issues */
    zoom: 1;
  }

  /* Adjust for iPhone X and newer devices with notches */
  @supports (padding: max(0px)) {
    body {
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
    }
  }

  /* Fix map container specifically for PWA mode */
  .map-container {
    touch-action: pan-x pan-y;
    height: 100%;
    width: 100%;
  }
}

/* Fix for standalone PWA on iOS */
@media screen and (width: 100vw) {
  html,
  body {
    /* Better touch handling */
    touch-action: pan-x pan-y;
  }
}

/* Force hardware acceleration for smoother scrolling and animations */
* {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-tap-highlight-color: transparent;
}

/* Disable pull-to-refresh on mobile browsers when in PWA mode */
body {
  overscroll-behavior-y: contain;
}

/* Fix for Google Maps in PWA mode */
.map-container {
  width: 100%;
  height: 100%;
  touch-action: manipulation;
  position: relative;
}

/* Fix for content getting cut off at the bottom on some mobile browsers */
@media screen and (max-height: 812px) {
  .app-container {
    min-height: calc(100vh - env(safe-area-inset-bottom, 0px));
    padding-bottom: env(safe-area-inset-bottom, 16px);
  }
}

/* Fix for maps and large interactive elements */
.map-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  touch-action: pan-x pan-y;
}
