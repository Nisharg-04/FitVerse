/* PWA Display Fixes */

/* Ensure proper sizing for the entire application */
html,
body {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Basic fixes for all mobile displays */
@media screen and (max-width: 768px) {
  /* Allow horizontal scrolling when necessary but prevent accidental overflow */
  html,
  body {
    overflow-x: hidden;
  }

  /* Ensure buttons and interactive elements are properly sized for touch */
  button,
  [role="button"],
  a,
  input[type="button"],
  input[type="submit"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Fixes specifically for standalone mode */
@media all and (display-mode: standalone) {
  html {
    /* This normalizes text size across browsers */
    -webkit-text-size-adjust: 100%;
  }

  /* Ensure proper scrolling behavior */
  body {
    overflow: auto;
    height: 100%;
  }

  /* Adjust for notched devices */
  @supports (padding: max(0px)) {
    body {
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
    }
  }

  /* Better touch handling for all elements in PWA mode */
  * {
    touch-action: manipulation;
  }
}

/* Map-specific fixes */
.map-container {
  width: 100%;
  height: 100%;
  position: relative;
}

/* Improve hardware acceleration for animations */
.animate-fade-in,
.animate-slide-in,
.animate-bounce {
  will-change: transform, opacity;
}

/* Force hardware acceleration for smoother scrolling and animations */
* {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-tap-highlight-color: transparent;
}

/* Force hardware acceleration for smoother scrolling and animations */
* {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-tap-highlight-color: transparent;
}

/* Disable pull-to-refresh on mobile browsers when in PWA mode */
body {
  overscroll-behavior-y: contain;
}

/* Fix for Google Maps in PWA mode */
.map-container {
  width: 100%;
  height: 100%;
  touch-action: manipulation;
  position: relative;
}

/* Fix for content getting cut off at the bottom on some mobile browsers */
@media screen and (max-height: 812px) {
  .app-container {
    min-height: calc(100vh - env(safe-area-inset-bottom, 0px));
    padding-bottom: env(safe-area-inset-bottom, 16px);
  }
}

/* Fix for maps and large interactive elements */
.map-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  touch-action: pan-x pan-y;
}
